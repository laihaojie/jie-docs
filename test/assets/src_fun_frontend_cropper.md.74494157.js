import{f as vt,r as La,e as Ft,n as bt,h as at,i as tt,z as ha,G as Ct,l as At,R as wt}from"./chunks/framework.7e07dabb.js";const xt="/logo.png";/*!
 * Cropper.js v1.5.13
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2022-11-20T05:30:46.114Z
 */function Pa(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,t)}return s}function st(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?Pa(Object(s),!0).forEach(function(t){Tt(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Pa(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function Da(e){"@babel/helpers - typeof";return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Da(e)}function Et(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function Ya(e,a){for(var s=0;s<a.length;s++){var t=a[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function Mt(e,a,s){return a&&Ya(e.prototype,a),s&&Ya(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tt(e,a,s){return a in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function et(e){return Ot(e)||Nt(e)||_t(e)||Rt()}function Ot(e){if(Array.isArray(e))return va(e)}function Nt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _t(e,a){if(e){if(typeof e=="string")return va(e,a);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return va(e,a)}}function va(e,a){(a==null||a>e.length)&&(a=e.length);for(var s=0,t=new Array(a);s<a;s++)t[s]=e[s];return t}function Rt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ua=typeof window<"u"&&typeof window.document<"u",L=ua?window:{},Ta=ua&&L.document.documentElement?"ontouchstart"in L.document.documentElement:!1,Oa=ua?"PointerEvent"in L:!1,F="cropper",Na="all",nt="crop",it="move",rt="zoom",q="e",G="w",Q="s",z="n",ta="ne",sa="nw",ea="se",na="sw",Fa="".concat(F,"-crop"),Xa="".concat(F,"-disabled"),N="".concat(F,"-hidden"),za="".concat(F,"-hide"),St="".concat(F,"-invisible"),fa="".concat(F,"-modal"),ba="".concat(F,"-move"),ra="".concat(F,"Action"),pa="".concat(F,"Preview"),_a="crop",ot="move",lt="none",Ca="crop",Aa="cropend",wa="cropmove",xa="cropstart",Ha="dblclick",kt=Ta?"touchstart":"mousedown",It=Ta?"touchmove":"mousemove",Bt=Ta?"touchend touchcancel":"mouseup",Wa=Oa?"pointerdown":kt,Ua=Oa?"pointermove":It,Va=Oa?"pointerup pointercancel":Bt,ja="ready",qa="resize",Ga="wheel",Ea="zoom",$a="image/jpeg",Lt=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Pt=/^data:/,Yt=/^data:image\/jpeg;base64,/,Xt=/^img|canvas$/i,pt=200,ct=100,Qa={viewMode:0,dragMode:_a,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:pt,minContainerHeight:ct,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},zt='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Ht=Number.isNaN||L.isNaN;function d(e){return typeof e=="number"&&!Ht(e)}var Za=function(a){return a>0&&a<1/0};function ya(e){return typeof e>"u"}function $(e){return Da(e)==="object"&&e!==null}var Wt=Object.prototype.hasOwnProperty;function Z(e){if(!$(e))return!1;try{var a=e.constructor,s=a.prototype;return a&&s&&Wt.call(s,"isPrototypeOf")}catch{return!1}}function O(e){return typeof e=="function"}var Ut=Array.prototype.slice;function ht(e){return Array.from?Array.from(e):Ut.call(e)}function A(e,a){return e&&O(a)&&(Array.isArray(e)||d(e.length)?ht(e).forEach(function(s,t){a.call(e,s,t,e)}):$(e)&&Object.keys(e).forEach(function(s){a.call(e,e[s],s,e)})),e}var b=Object.assign||function(a){for(var s=arguments.length,t=new Array(s>1?s-1:0),r=1;r<s;r++)t[r-1]=arguments[r];return $(a)&&t.length>0&&t.forEach(function(n){$(n)&&Object.keys(n).forEach(function(i){a[i]=n[i]})}),a},Vt=/\.\d*(?:0|9){12}\d*$/;function J(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Vt.test(e)?Math.round(e*a)/a:e}var jt=/^width|height|left|top|marginLeft|marginTop$/;function H(e,a){var s=e.style;A(a,function(t,r){jt.test(r)&&d(t)&&(t="".concat(t,"px")),s[r]=t})}function qt(e,a){return e.classList?e.classList.contains(a):e.className.indexOf(a)>-1}function M(e,a){if(a){if(d(e.length)){A(e,function(t){M(t,a)});return}if(e.classList){e.classList.add(a);return}var s=e.className.trim();s?s.indexOf(a)<0&&(e.className="".concat(s," ").concat(a)):e.className=a}}function B(e,a){if(a){if(d(e.length)){A(e,function(s){B(s,a)});return}if(e.classList){e.classList.remove(a);return}e.className.indexOf(a)>=0&&(e.className=e.className.replace(a,""))}}function K(e,a,s){if(a){if(d(e.length)){A(e,function(t){K(t,a,s)});return}s?M(e,a):B(e,a)}}var Gt=/([a-z\d])([A-Z])/g;function Ra(e){return e.replace(Gt,"$1-$2").toLowerCase()}function Ma(e,a){return $(e[a])?e[a]:e.dataset?e.dataset[a]:e.getAttribute("data-".concat(Ra(a)))}function oa(e,a,s){$(s)?e[a]=s:e.dataset?e.dataset[a]=s:e.setAttribute("data-".concat(Ra(a)),s)}function $t(e,a){if($(e[a]))try{delete e[a]}catch{e[a]=void 0}else if(e.dataset)try{delete e.dataset[a]}catch{e.dataset[a]=void 0}else e.removeAttribute("data-".concat(Ra(a)))}var ft=/\s\s*/,ut=function(){var e=!1;if(ua){var a=!1,s=function(){},t=Object.defineProperty({},"once",{get:function(){return e=!0,a},set:function(n){a=n}});L.addEventListener("test",s,t),L.removeEventListener("test",s,t)}return e}();function k(e,a,s){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=s;a.trim().split(ft).forEach(function(n){if(!ut){var i=e.listeners;i&&i[n]&&i[n][s]&&(r=i[n][s],delete i[n][s],Object.keys(i[n]).length===0&&delete i[n],Object.keys(i).length===0&&delete e.listeners)}e.removeEventListener(n,r,t)})}function S(e,a,s){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=s;a.trim().split(ft).forEach(function(n){if(t.once&&!ut){var i=e.listeners,o=i===void 0?{}:i;r=function(){delete o[n][s],e.removeEventListener(n,r,t);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];s.apply(e,l)},o[n]||(o[n]={}),o[n][s]&&e.removeEventListener(n,o[n][s],t),o[n][s]=r,e.listeners=o}e.addEventListener(n,r,t)})}function aa(e,a,s){var t;return O(Event)&&O(CustomEvent)?t=new CustomEvent(a,{detail:s,bubbles:!0,cancelable:!0}):(t=document.createEvent("CustomEvent"),t.initCustomEvent(a,!0,!0,s)),e.dispatchEvent(t)}function dt(e){var a=e.getBoundingClientRect();return{left:a.left+(window.pageXOffset-document.documentElement.clientLeft),top:a.top+(window.pageYOffset-document.documentElement.clientTop)}}var ma=L.location,Qt=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Ka(e){var a=e.match(Qt);return a!==null&&(a[1]!==ma.protocol||a[2]!==ma.hostname||a[3]!==ma.port)}function Ja(e){var a="timestamp=".concat(new Date().getTime());return e+(e.indexOf("?")===-1?"?":"&")+a}function ia(e){var a=e.rotate,s=e.scaleX,t=e.scaleY,r=e.translateX,n=e.translateY,i=[];d(r)&&r!==0&&i.push("translateX(".concat(r,"px)")),d(n)&&n!==0&&i.push("translateY(".concat(n,"px)")),d(a)&&a!==0&&i.push("rotate(".concat(a,"deg)")),d(s)&&s!==1&&i.push("scaleX(".concat(s,")")),d(t)&&t!==1&&i.push("scaleY(".concat(t,")"));var o=i.length?i.join(" "):"none";return{WebkitTransform:o,msTransform:o,transform:o}}function Zt(e){var a=st({},e),s=0;return A(e,function(t,r){delete a[r],A(a,function(n){var i=Math.abs(t.startX-n.startX),o=Math.abs(t.startY-n.startY),f=Math.abs(t.endX-n.endX),c=Math.abs(t.endY-n.endY),l=Math.sqrt(i*i+o*o),p=Math.sqrt(f*f+c*c),h=(p-l)/l;Math.abs(h)>Math.abs(s)&&(s=h)})}),s}function ca(e,a){var s=e.pageX,t=e.pageY,r={endX:s,endY:t};return a?r:st({startX:s,startY:t},r)}function Kt(e){var a=0,s=0,t=0;return A(e,function(r){var n=r.startX,i=r.startY;a+=n,s+=i,t+=1}),a/=t,s/=t,{pageX:a,pageY:s}}function W(e){var a=e.aspectRatio,s=e.height,t=e.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",n=Za(t),i=Za(s);if(n&&i){var o=s*a;r==="contain"&&o>t||r==="cover"&&o<t?s=t/a:t=s*a}else n?s=t/a:i&&(t=s*a);return{width:t,height:s}}function Jt(e){var a=e.width,s=e.height,t=e.degree;if(t=Math.abs(t)%180,t===90)return{width:s,height:a};var r=t%90*Math.PI/180,n=Math.sin(r),i=Math.cos(r),o=a*i+s*n,f=a*n+s*i;return t>90?{width:f,height:o}:{width:o,height:f}}function as(e,a,s,t){var r=a.aspectRatio,n=a.naturalWidth,i=a.naturalHeight,o=a.rotate,f=o===void 0?0:o,c=a.scaleX,l=c===void 0?1:c,p=a.scaleY,h=p===void 0?1:p,y=s.aspectRatio,g=s.naturalWidth,v=s.naturalHeight,m=t.fillColor,w=m===void 0?"transparent":m,E=t.imageSmoothingEnabled,C=E===void 0?!0:E,P=t.imageSmoothingQuality,_=P===void 0?"low":P,u=t.maxWidth,D=u===void 0?1/0:u,x=t.maxHeight,R=x===void 0?1/0:x,Y=t.minWidth,U=Y===void 0?0:Y,V=t.minHeight,X=V===void 0?0:V,I=document.createElement("canvas"),T=I.getContext("2d"),j=W({aspectRatio:y,width:D,height:R}),la=W({aspectRatio:y,width:U,height:X},"cover"),da=Math.min(j.width,Math.max(la.width,g)),ga=Math.min(j.height,Math.max(la.height,v)),Sa=W({aspectRatio:r,width:D,height:R}),ka=W({aspectRatio:r,width:U,height:X},"cover"),Ia=Math.min(Sa.width,Math.max(ka.width,n)),Ba=Math.min(Sa.height,Math.max(ka.height,i)),mt=[-Ia/2,-Ba/2,Ia,Ba];return I.width=J(da),I.height=J(ga),T.fillStyle=w,T.fillRect(0,0,da,ga),T.save(),T.translate(da/2,ga/2),T.rotate(f*Math.PI/180),T.scale(l,h),T.imageSmoothingEnabled=C,T.imageSmoothingQuality=_,T.drawImage.apply(T,[e].concat(et(mt.map(function(Dt){return Math.floor(J(Dt))})))),T.restore(),I}var gt=String.fromCharCode;function ts(e,a,s){var t="";s+=a;for(var r=a;r<s;r+=1)t+=gt(e.getUint8(r));return t}var ss=/^data:.*,/;function es(e){var a=e.replace(ss,""),s=atob(a),t=new ArrayBuffer(s.length),r=new Uint8Array(t);return A(r,function(n,i){r[i]=s.charCodeAt(i)}),t}function ns(e,a){for(var s=[],t=8192,r=new Uint8Array(e);r.length>0;)s.push(gt.apply(null,ht(r.subarray(0,t)))),r=r.subarray(t);return"data:".concat(a,";base64,").concat(btoa(s.join("")))}function is(e){var a=new DataView(e),s;try{var t,r,n;if(a.getUint8(0)===255&&a.getUint8(1)===216)for(var i=a.byteLength,o=2;o+1<i;){if(a.getUint8(o)===255&&a.getUint8(o+1)===225){r=o;break}o+=1}if(r){var f=r+4,c=r+10;if(ts(a,f,4)==="Exif"){var l=a.getUint16(c);if(t=l===18761,(t||l===19789)&&a.getUint16(c+2,t)===42){var p=a.getUint32(c+4,t);p>=8&&(n=c+p)}}}if(n){var h=a.getUint16(n,t),y,g;for(g=0;g<h;g+=1)if(y=n+g*12+2,a.getUint16(y,t)===274){y+=8,s=a.getUint16(y,t),a.setUint16(y,1,t);break}}}catch{s=1}return s}function rs(e){var a=0,s=1,t=1;switch(e){case 2:s=-1;break;case 3:a=-180;break;case 4:t=-1;break;case 5:a=90,t=-1;break;case 6:a=90;break;case 7:a=90,s=-1;break;case 8:a=-90;break}return{rotate:a,scaleX:s,scaleY:t}}var os={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var a=this.element,s=this.options,t=this.container,r=this.cropper,n=Number(s.minContainerWidth),i=Number(s.minContainerHeight);M(r,N),B(a,N);var o={width:Math.max(t.offsetWidth,n>=0?n:pt),height:Math.max(t.offsetHeight,i>=0?i:ct)};this.containerData=o,H(r,{width:o.width,height:o.height}),M(a,N),B(r,N)},initCanvas:function(){var a=this.containerData,s=this.imageData,t=this.options.viewMode,r=Math.abs(s.rotate)%180===90,n=r?s.naturalHeight:s.naturalWidth,i=r?s.naturalWidth:s.naturalHeight,o=n/i,f=a.width,c=a.height;a.height*o>a.width?t===3?f=a.height*o:c=a.width/o:t===3?c=a.width/o:f=a.height*o;var l={aspectRatio:o,naturalWidth:n,naturalHeight:i,width:f,height:c};this.canvasData=l,this.limited=t===1||t===2,this.limitCanvas(!0,!0),l.width=Math.min(Math.max(l.width,l.minWidth),l.maxWidth),l.height=Math.min(Math.max(l.height,l.minHeight),l.maxHeight),l.left=(a.width-l.width)/2,l.top=(a.height-l.height)/2,l.oldLeft=l.left,l.oldTop=l.top,this.initialCanvasData=b({},l)},limitCanvas:function(a,s){var t=this.options,r=this.containerData,n=this.canvasData,i=this.cropBoxData,o=t.viewMode,f=n.aspectRatio,c=this.cropped&&i;if(a){var l=Number(t.minCanvasWidth)||0,p=Number(t.minCanvasHeight)||0;o>1?(l=Math.max(l,r.width),p=Math.max(p,r.height),o===3&&(p*f>l?l=p*f:p=l/f)):o>0&&(l?l=Math.max(l,c?i.width:0):p?p=Math.max(p,c?i.height:0):c&&(l=i.width,p=i.height,p*f>l?l=p*f:p=l/f));var h=W({aspectRatio:f,width:l,height:p});l=h.width,p=h.height,n.minWidth=l,n.minHeight=p,n.maxWidth=1/0,n.maxHeight=1/0}if(s)if(o>(c?0:1)){var y=r.width-n.width,g=r.height-n.height;n.minLeft=Math.min(0,y),n.minTop=Math.min(0,g),n.maxLeft=Math.max(0,y),n.maxTop=Math.max(0,g),c&&this.limited&&(n.minLeft=Math.min(i.left,i.left+(i.width-n.width)),n.minTop=Math.min(i.top,i.top+(i.height-n.height)),n.maxLeft=i.left,n.maxTop=i.top,o===2&&(n.width>=r.width&&(n.minLeft=Math.min(0,y),n.maxLeft=Math.max(0,y)),n.height>=r.height&&(n.minTop=Math.min(0,g),n.maxTop=Math.max(0,g))))}else n.minLeft=-n.width,n.minTop=-n.height,n.maxLeft=r.width,n.maxTop=r.height},renderCanvas:function(a,s){var t=this.canvasData,r=this.imageData;if(s){var n=Jt({width:r.naturalWidth*Math.abs(r.scaleX||1),height:r.naturalHeight*Math.abs(r.scaleY||1),degree:r.rotate||0}),i=n.width,o=n.height,f=t.width*(i/t.naturalWidth),c=t.height*(o/t.naturalHeight);t.left-=(f-t.width)/2,t.top-=(c-t.height)/2,t.width=f,t.height=c,t.aspectRatio=i/o,t.naturalWidth=i,t.naturalHeight=o,this.limitCanvas(!0,!1)}(t.width>t.maxWidth||t.width<t.minWidth)&&(t.left=t.oldLeft),(t.height>t.maxHeight||t.height<t.minHeight)&&(t.top=t.oldTop),t.width=Math.min(Math.max(t.width,t.minWidth),t.maxWidth),t.height=Math.min(Math.max(t.height,t.minHeight),t.maxHeight),this.limitCanvas(!1,!0),t.left=Math.min(Math.max(t.left,t.minLeft),t.maxLeft),t.top=Math.min(Math.max(t.top,t.minTop),t.maxTop),t.oldLeft=t.left,t.oldTop=t.top,H(this.canvas,b({width:t.width,height:t.height},ia({translateX:t.left,translateY:t.top}))),this.renderImage(a),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(a){var s=this.canvasData,t=this.imageData,r=t.naturalWidth*(s.width/s.naturalWidth),n=t.naturalHeight*(s.height/s.naturalHeight);b(t,{width:r,height:n,left:(s.width-r)/2,top:(s.height-n)/2}),H(this.image,b({width:t.width,height:t.height},ia(b({translateX:t.left,translateY:t.top},t)))),a&&this.output()},initCropBox:function(){var a=this.options,s=this.canvasData,t=a.aspectRatio||a.initialAspectRatio,r=Number(a.autoCropArea)||.8,n={width:s.width,height:s.height};t&&(s.height*t>s.width?n.height=n.width/t:n.width=n.height*t),this.cropBoxData=n,this.limitCropBox(!0,!0),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),n.width=Math.max(n.minWidth,n.width*r),n.height=Math.max(n.minHeight,n.height*r),n.left=s.left+(s.width-n.width)/2,n.top=s.top+(s.height-n.height)/2,n.oldLeft=n.left,n.oldTop=n.top,this.initialCropBoxData=b({},n)},limitCropBox:function(a,s){var t=this.options,r=this.containerData,n=this.canvasData,i=this.cropBoxData,o=this.limited,f=t.aspectRatio;if(a){var c=Number(t.minCropBoxWidth)||0,l=Number(t.minCropBoxHeight)||0,p=o?Math.min(r.width,n.width,n.width+n.left,r.width-n.left):r.width,h=o?Math.min(r.height,n.height,n.height+n.top,r.height-n.top):r.height;c=Math.min(c,r.width),l=Math.min(l,r.height),f&&(c&&l?l*f>c?l=c/f:c=l*f:c?l=c/f:l&&(c=l*f),h*f>p?h=p/f:p=h*f),i.minWidth=Math.min(c,p),i.minHeight=Math.min(l,h),i.maxWidth=p,i.maxHeight=h}s&&(o?(i.minLeft=Math.max(0,n.left),i.minTop=Math.max(0,n.top),i.maxLeft=Math.min(r.width,n.left+n.width)-i.width,i.maxTop=Math.min(r.height,n.top+n.height)-i.height):(i.minLeft=0,i.minTop=0,i.maxLeft=r.width-i.width,i.maxTop=r.height-i.height))},renderCropBox:function(){var a=this.options,s=this.containerData,t=this.cropBoxData;(t.width>t.maxWidth||t.width<t.minWidth)&&(t.left=t.oldLeft),(t.height>t.maxHeight||t.height<t.minHeight)&&(t.top=t.oldTop),t.width=Math.min(Math.max(t.width,t.minWidth),t.maxWidth),t.height=Math.min(Math.max(t.height,t.minHeight),t.maxHeight),this.limitCropBox(!1,!0),t.left=Math.min(Math.max(t.left,t.minLeft),t.maxLeft),t.top=Math.min(Math.max(t.top,t.minTop),t.maxTop),t.oldLeft=t.left,t.oldTop=t.top,a.movable&&a.cropBoxMovable&&oa(this.face,ra,t.width>=s.width&&t.height>=s.height?it:Na),H(this.cropBox,b({width:t.width,height:t.height},ia({translateX:t.left,translateY:t.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),aa(this.element,Ca,this.getData())}},ls={initPreview:function(){var a=this.element,s=this.crossOrigin,t=this.options.preview,r=s?this.crossOriginUrl:this.url,n=a.alt||"The image to preview",i=document.createElement("img");if(s&&(i.crossOrigin=s),i.src=r,i.alt=n,this.viewBox.appendChild(i),this.viewBoxImage=i,!!t){var o=t;typeof t=="string"?o=a.ownerDocument.querySelectorAll(t):t.querySelector&&(o=[t]),this.previews=o,A(o,function(f){var c=document.createElement("img");oa(f,pa,{width:f.offsetWidth,height:f.offsetHeight,html:f.innerHTML}),s&&(c.crossOrigin=s),c.src=r,c.alt=n,c.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',f.innerHTML="",f.appendChild(c)})}},resetPreview:function(){A(this.previews,function(a){var s=Ma(a,pa);H(a,{width:s.width,height:s.height}),a.innerHTML=s.html,$t(a,pa)})},preview:function(){var a=this.imageData,s=this.canvasData,t=this.cropBoxData,r=t.width,n=t.height,i=a.width,o=a.height,f=t.left-s.left-a.left,c=t.top-s.top-a.top;!this.cropped||this.disabled||(H(this.viewBoxImage,b({width:i,height:o},ia(b({translateX:-f,translateY:-c},a)))),A(this.previews,function(l){var p=Ma(l,pa),h=p.width,y=p.height,g=h,v=y,m=1;r&&(m=h/r,v=n*m),n&&v>y&&(m=y/n,g=r*m,v=y),H(l,{width:g,height:v}),H(l.getElementsByTagName("img")[0],b({width:i*m,height:o*m},ia(b({translateX:-f*m,translateY:-c*m},a))))}))}},ps={bind:function(){var a=this.element,s=this.options,t=this.cropper;O(s.cropstart)&&S(a,xa,s.cropstart),O(s.cropmove)&&S(a,wa,s.cropmove),O(s.cropend)&&S(a,Aa,s.cropend),O(s.crop)&&S(a,Ca,s.crop),O(s.zoom)&&S(a,Ea,s.zoom),S(t,Wa,this.onCropStart=this.cropStart.bind(this)),s.zoomable&&s.zoomOnWheel&&S(t,Ga,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),s.toggleDragModeOnDblclick&&S(t,Ha,this.onDblclick=this.dblclick.bind(this)),S(a.ownerDocument,Ua,this.onCropMove=this.cropMove.bind(this)),S(a.ownerDocument,Va,this.onCropEnd=this.cropEnd.bind(this)),s.responsive&&S(window,qa,this.onResize=this.resize.bind(this))},unbind:function(){var a=this.element,s=this.options,t=this.cropper;O(s.cropstart)&&k(a,xa,s.cropstart),O(s.cropmove)&&k(a,wa,s.cropmove),O(s.cropend)&&k(a,Aa,s.cropend),O(s.crop)&&k(a,Ca,s.crop),O(s.zoom)&&k(a,Ea,s.zoom),k(t,Wa,this.onCropStart),s.zoomable&&s.zoomOnWheel&&k(t,Ga,this.onWheel,{passive:!1,capture:!0}),s.toggleDragModeOnDblclick&&k(t,Ha,this.onDblclick),k(a.ownerDocument,Ua,this.onCropMove),k(a.ownerDocument,Va,this.onCropEnd),s.responsive&&k(window,qa,this.onResize)}},cs={resize:function(){if(!this.disabled){var a=this.options,s=this.container,t=this.containerData,r=s.offsetWidth/t.width,n=s.offsetHeight/t.height,i=Math.abs(r-1)>Math.abs(n-1)?r:n;if(i!==1){var o,f;a.restore&&(o=this.getCanvasData(),f=this.getCropBoxData()),this.render(),a.restore&&(this.setCanvasData(A(o,function(c,l){o[l]=c*i})),this.setCropBoxData(A(f,function(c,l){f[l]=c*i})))}}},dblclick:function(){this.disabled||this.options.dragMode===lt||this.setDragMode(qt(this.dragBox,Fa)?ot:_a)},wheel:function(a){var s=this,t=Number(this.options.wheelZoomRatio)||.1,r=1;this.disabled||(a.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){s.wheeling=!1},50),a.deltaY?r=a.deltaY>0?1:-1:a.wheelDelta?r=-a.wheelDelta/120:a.detail&&(r=a.detail>0?1:-1),this.zoom(-r*t,a)))},cropStart:function(a){var s=a.buttons,t=a.button;if(!(this.disabled||(a.type==="mousedown"||a.type==="pointerdown"&&a.pointerType==="mouse")&&(d(s)&&s!==1||d(t)&&t!==0||a.ctrlKey))){var r=this.options,n=this.pointers,i;a.changedTouches?A(a.changedTouches,function(o){n[o.identifier]=ca(o)}):n[a.pointerId||0]=ca(a),Object.keys(n).length>1&&r.zoomable&&r.zoomOnTouch?i=rt:i=Ma(a.target,ra),Lt.test(i)&&aa(this.element,xa,{originalEvent:a,action:i})!==!1&&(a.preventDefault(),this.action=i,this.cropping=!1,i===nt&&(this.cropping=!0,M(this.dragBox,fa)))}},cropMove:function(a){var s=this.action;if(!(this.disabled||!s)){var t=this.pointers;a.preventDefault(),aa(this.element,wa,{originalEvent:a,action:s})!==!1&&(a.changedTouches?A(a.changedTouches,function(r){b(t[r.identifier]||{},ca(r,!0))}):b(t[a.pointerId||0]||{},ca(a,!0)),this.change(a))}},cropEnd:function(a){if(!this.disabled){var s=this.action,t=this.pointers;a.changedTouches?A(a.changedTouches,function(r){delete t[r.identifier]}):delete t[a.pointerId||0],s&&(a.preventDefault(),Object.keys(t).length||(this.action=""),this.cropping&&(this.cropping=!1,K(this.dragBox,fa,this.cropped&&this.options.modal)),aa(this.element,Aa,{originalEvent:a,action:s}))}}},hs={change:function(a){var s=this.options,t=this.canvasData,r=this.containerData,n=this.cropBoxData,i=this.pointers,o=this.action,f=s.aspectRatio,c=n.left,l=n.top,p=n.width,h=n.height,y=c+p,g=l+h,v=0,m=0,w=r.width,E=r.height,C=!0,P;!f&&a.shiftKey&&(f=p&&h?p/h:1),this.limited&&(v=n.minLeft,m=n.minTop,w=v+Math.min(r.width,t.width,t.left+t.width),E=m+Math.min(r.height,t.height,t.top+t.height));var _=i[Object.keys(i)[0]],u={x:_.endX-_.startX,y:_.endY-_.startY},D=function(R){switch(R){case q:y+u.x>w&&(u.x=w-y);break;case G:c+u.x<v&&(u.x=v-c);break;case z:l+u.y<m&&(u.y=m-l);break;case Q:g+u.y>E&&(u.y=E-g);break}};switch(o){case Na:c+=u.x,l+=u.y;break;case q:if(u.x>=0&&(y>=w||f&&(l<=m||g>=E))){C=!1;break}D(q),p+=u.x,p<0&&(o=G,p=-p,c-=p),f&&(h=p/f,l+=(n.height-h)/2);break;case z:if(u.y<=0&&(l<=m||f&&(c<=v||y>=w))){C=!1;break}D(z),h-=u.y,l+=u.y,h<0&&(o=Q,h=-h,l-=h),f&&(p=h*f,c+=(n.width-p)/2);break;case G:if(u.x<=0&&(c<=v||f&&(l<=m||g>=E))){C=!1;break}D(G),p-=u.x,c+=u.x,p<0&&(o=q,p=-p,c-=p),f&&(h=p/f,l+=(n.height-h)/2);break;case Q:if(u.y>=0&&(g>=E||f&&(c<=v||y>=w))){C=!1;break}D(Q),h+=u.y,h<0&&(o=z,h=-h,l-=h),f&&(p=h*f,c+=(n.width-p)/2);break;case ta:if(f){if(u.y<=0&&(l<=m||y>=w)){C=!1;break}D(z),h-=u.y,l+=u.y,p=h*f}else D(z),D(q),u.x>=0?y<w?p+=u.x:u.y<=0&&l<=m&&(C=!1):p+=u.x,u.y<=0?l>m&&(h-=u.y,l+=u.y):(h-=u.y,l+=u.y);p<0&&h<0?(o=na,h=-h,p=-p,l-=h,c-=p):p<0?(o=sa,p=-p,c-=p):h<0&&(o=ea,h=-h,l-=h);break;case sa:if(f){if(u.y<=0&&(l<=m||c<=v)){C=!1;break}D(z),h-=u.y,l+=u.y,p=h*f,c+=n.width-p}else D(z),D(G),u.x<=0?c>v?(p-=u.x,c+=u.x):u.y<=0&&l<=m&&(C=!1):(p-=u.x,c+=u.x),u.y<=0?l>m&&(h-=u.y,l+=u.y):(h-=u.y,l+=u.y);p<0&&h<0?(o=ea,h=-h,p=-p,l-=h,c-=p):p<0?(o=ta,p=-p,c-=p):h<0&&(o=na,h=-h,l-=h);break;case na:if(f){if(u.x<=0&&(c<=v||g>=E)){C=!1;break}D(G),p-=u.x,c+=u.x,h=p/f}else D(Q),D(G),u.x<=0?c>v?(p-=u.x,c+=u.x):u.y>=0&&g>=E&&(C=!1):(p-=u.x,c+=u.x),u.y>=0?g<E&&(h+=u.y):h+=u.y;p<0&&h<0?(o=ta,h=-h,p=-p,l-=h,c-=p):p<0?(o=ea,p=-p,c-=p):h<0&&(o=sa,h=-h,l-=h);break;case ea:if(f){if(u.x>=0&&(y>=w||g>=E)){C=!1;break}D(q),p+=u.x,h=p/f}else D(Q),D(q),u.x>=0?y<w?p+=u.x:u.y>=0&&g>=E&&(C=!1):p+=u.x,u.y>=0?g<E&&(h+=u.y):h+=u.y;p<0&&h<0?(o=sa,h=-h,p=-p,l-=h,c-=p):p<0?(o=na,p=-p,c-=p):h<0&&(o=ta,h=-h,l-=h);break;case it:this.move(u.x,u.y),C=!1;break;case rt:this.zoom(Zt(i),a),C=!1;break;case nt:if(!u.x||!u.y){C=!1;break}P=dt(this.cropper),c=_.startX-P.left,l=_.startY-P.top,p=n.minWidth,h=n.minHeight,u.x>0?o=u.y>0?ea:ta:u.x<0&&(c-=p,o=u.y>0?na:sa),u.y<0&&(l-=h),this.cropped||(B(this.cropBox,N),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}C&&(n.width=p,n.height=h,n.left=c,n.top=l,this.action=o,this.renderCropBox()),A(i,function(x){x.startX=x.endX,x.startY=x.endY})}},fs={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&M(this.dragBox,fa),B(this.cropBox,N),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=b({},this.initialImageData),this.canvasData=b({},this.initialCanvasData),this.cropBoxData=b({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(b(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),B(this.dragBox,fa),M(this.cropBox,N)),this},replace:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&a&&(this.isImg&&(this.element.src=a),s?(this.url=a,this.image.src=a,this.ready&&(this.viewBoxImage.src=a,A(this.previews,function(t){t.getElementsByTagName("img")[0].src=a}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(a))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,B(this.cropper,Xa)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,M(this.cropper,Xa)),this},destroy:function(){var a=this.element;return a[F]?(a[F]=void 0,this.isImg&&this.replaced&&(a.src=this.originalUrl),this.uncreate(),this):this},move:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,t=this.canvasData,r=t.left,n=t.top;return this.moveTo(ya(a)?a:r+Number(a),ya(s)?s:n+Number(s))},moveTo:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,t=this.canvasData,r=!1;return a=Number(a),s=Number(s),this.ready&&!this.disabled&&this.options.movable&&(d(a)&&(t.left=a,r=!0),d(s)&&(t.top=s,r=!0),r&&this.renderCanvas(!0)),this},zoom:function(a,s){var t=this.canvasData;return a=Number(a),a<0?a=1/(1-a):a=1+a,this.zoomTo(t.width*a/t.naturalWidth,null,s)},zoomTo:function(a,s,t){var r=this.options,n=this.canvasData,i=n.width,o=n.height,f=n.naturalWidth,c=n.naturalHeight;if(a=Number(a),a>=0&&this.ready&&!this.disabled&&r.zoomable){var l=f*a,p=c*a;if(aa(this.element,Ea,{ratio:a,oldRatio:i/f,originalEvent:t})===!1)return this;if(t){var h=this.pointers,y=dt(this.cropper),g=h&&Object.keys(h).length?Kt(h):{pageX:t.pageX,pageY:t.pageY};n.left-=(l-i)*((g.pageX-y.left-n.left)/i),n.top-=(p-o)*((g.pageY-y.top-n.top)/o)}else Z(s)&&d(s.x)&&d(s.y)?(n.left-=(l-i)*((s.x-n.left)/i),n.top-=(p-o)*((s.y-n.top)/o)):(n.left-=(l-i)/2,n.top-=(p-o)/2);n.width=l,n.height=p,this.renderCanvas(!0)}return this},rotate:function(a){return this.rotateTo((this.imageData.rotate||0)+Number(a))},rotateTo:function(a){return a=Number(a),d(a)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=a%360,this.renderCanvas(!0,!0)),this},scaleX:function(a){var s=this.imageData.scaleY;return this.scale(a,d(s)?s:1)},scaleY:function(a){var s=this.imageData.scaleX;return this.scale(d(s)?s:1,a)},scale:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,t=this.imageData,r=!1;return a=Number(a),s=Number(s),this.ready&&!this.disabled&&this.options.scalable&&(d(a)&&(t.scaleX=a,r=!0),d(s)&&(t.scaleY=s,r=!0),r&&this.renderCanvas(!0,!0)),this},getData:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,s=this.options,t=this.imageData,r=this.canvasData,n=this.cropBoxData,i;if(this.ready&&this.cropped){i={x:n.left-r.left,y:n.top-r.top,width:n.width,height:n.height};var o=t.width/t.naturalWidth;if(A(i,function(l,p){i[p]=l/o}),a){var f=Math.round(i.y+i.height),c=Math.round(i.x+i.width);i.x=Math.round(i.x),i.y=Math.round(i.y),i.width=c-i.x,i.height=f-i.y}}else i={x:0,y:0,width:0,height:0};return s.rotatable&&(i.rotate=t.rotate||0),s.scalable&&(i.scaleX=t.scaleX||1,i.scaleY=t.scaleY||1),i},setData:function(a){var s=this.options,t=this.imageData,r=this.canvasData,n={};if(this.ready&&!this.disabled&&Z(a)){var i=!1;s.rotatable&&d(a.rotate)&&a.rotate!==t.rotate&&(t.rotate=a.rotate,i=!0),s.scalable&&(d(a.scaleX)&&a.scaleX!==t.scaleX&&(t.scaleX=a.scaleX,i=!0),d(a.scaleY)&&a.scaleY!==t.scaleY&&(t.scaleY=a.scaleY,i=!0)),i&&this.renderCanvas(!0,!0);var o=t.width/t.naturalWidth;d(a.x)&&(n.left=a.x*o+r.left),d(a.y)&&(n.top=a.y*o+r.top),d(a.width)&&(n.width=a.width*o),d(a.height)&&(n.height=a.height*o),this.setCropBoxData(n)}return this},getContainerData:function(){return this.ready?b({},this.containerData):{}},getImageData:function(){return this.sized?b({},this.imageData):{}},getCanvasData:function(){var a=this.canvasData,s={};return this.ready&&A(["left","top","width","height","naturalWidth","naturalHeight"],function(t){s[t]=a[t]}),s},setCanvasData:function(a){var s=this.canvasData,t=s.aspectRatio;return this.ready&&!this.disabled&&Z(a)&&(d(a.left)&&(s.left=a.left),d(a.top)&&(s.top=a.top),d(a.width)?(s.width=a.width,s.height=a.width/t):d(a.height)&&(s.height=a.height,s.width=a.height*t),this.renderCanvas(!0)),this},getCropBoxData:function(){var a=this.cropBoxData,s;return this.ready&&this.cropped&&(s={left:a.left,top:a.top,width:a.width,height:a.height}),s||{}},setCropBoxData:function(a){var s=this.cropBoxData,t=this.options.aspectRatio,r,n;return this.ready&&this.cropped&&!this.disabled&&Z(a)&&(d(a.left)&&(s.left=a.left),d(a.top)&&(s.top=a.top),d(a.width)&&a.width!==s.width&&(r=!0,s.width=a.width),d(a.height)&&a.height!==s.height&&(n=!0,s.height=a.height),t&&(r?s.height=s.width/t:n&&(s.width=s.height*t)),this.renderCropBox()),this},getCroppedCanvas:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var s=this.canvasData,t=as(this.image,this.imageData,s,a);if(!this.cropped)return t;var r=this.getData(),n=r.x,i=r.y,o=r.width,f=r.height,c=t.width/Math.floor(s.naturalWidth);c!==1&&(n*=c,i*=c,o*=c,f*=c);var l=o/f,p=W({aspectRatio:l,width:a.maxWidth||1/0,height:a.maxHeight||1/0}),h=W({aspectRatio:l,width:a.minWidth||0,height:a.minHeight||0},"cover"),y=W({aspectRatio:l,width:a.width||(c!==1?t.width:o),height:a.height||(c!==1?t.height:f)}),g=y.width,v=y.height;g=Math.min(p.width,Math.max(h.width,g)),v=Math.min(p.height,Math.max(h.height,v));var m=document.createElement("canvas"),w=m.getContext("2d");m.width=J(g),m.height=J(v),w.fillStyle=a.fillColor||"transparent",w.fillRect(0,0,g,v);var E=a.imageSmoothingEnabled,C=E===void 0?!0:E,P=a.imageSmoothingQuality;w.imageSmoothingEnabled=C,P&&(w.imageSmoothingQuality=P);var _=t.width,u=t.height,D=n,x=i,R,Y,U,V,X,I;D<=-o||D>_?(D=0,R=0,U=0,X=0):D<=0?(U=-D,D=0,R=Math.min(_,o+D),X=R):D<=_&&(U=0,R=Math.min(o,_-D),X=R),R<=0||x<=-f||x>u?(x=0,Y=0,V=0,I=0):x<=0?(V=-x,x=0,Y=Math.min(u,f+x),I=Y):x<=u&&(V=0,Y=Math.min(f,u-x),I=Y);var T=[D,x,R,Y];if(X>0&&I>0){var j=g/o;T.push(U*j,V*j,X*j,I*j)}return w.drawImage.apply(w,[t].concat(et(T.map(function(la){return Math.floor(J(la))})))),m},setAspectRatio:function(a){var s=this.options;return!this.disabled&&!ya(a)&&(s.aspectRatio=Math.max(0,a)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(a){var s=this.options,t=this.dragBox,r=this.face;if(this.ready&&!this.disabled){var n=a===_a,i=s.movable&&a===ot;a=n||i?a:lt,s.dragMode=a,oa(t,ra,a),K(t,Fa,n),K(t,ba,i),s.cropBoxMovable||(oa(r,ra,a),K(r,Fa,n),K(r,ba,i))}return this}},us=L.Cropper,yt=function(){function e(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Et(this,e),!a||!Xt.test(a.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=a,this.options=b({},Qa,Z(s)&&s),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return Mt(e,[{key:"init",value:function(){var s=this.element,t=s.tagName.toLowerCase(),r;if(!s[F]){if(s[F]=this,t==="img"){if(this.isImg=!0,r=s.getAttribute("src")||"",this.originalUrl=r,!r)return;r=s.src}else t==="canvas"&&window.HTMLCanvasElement&&(r=s.toDataURL());this.load(r)}}},{key:"load",value:function(s){var t=this;if(s){this.url=s,this.imageData={};var r=this.element,n=this.options;if(!n.rotatable&&!n.scalable&&(n.checkOrientation=!1),!n.checkOrientation||!window.ArrayBuffer){this.clone();return}if(Pt.test(s)){Yt.test(s)?this.read(es(s)):this.clone();return}var i=new XMLHttpRequest,o=this.clone.bind(this);this.reloading=!0,this.xhr=i,i.onabort=o,i.onerror=o,i.ontimeout=o,i.onprogress=function(){i.getResponseHeader("content-type")!==$a&&i.abort()},i.onload=function(){t.read(i.response)},i.onloadend=function(){t.reloading=!1,t.xhr=null},n.checkCrossOrigin&&Ka(s)&&r.crossOrigin&&(s=Ja(s)),i.open("GET",s,!0),i.responseType="arraybuffer",i.withCredentials=r.crossOrigin==="use-credentials",i.send()}}},{key:"read",value:function(s){var t=this.options,r=this.imageData,n=is(s),i=0,o=1,f=1;if(n>1){this.url=ns(s,$a);var c=rs(n);i=c.rotate,o=c.scaleX,f=c.scaleY}t.rotatable&&(r.rotate=i),t.scalable&&(r.scaleX=o,r.scaleY=f),this.clone()}},{key:"clone",value:function(){var s=this.element,t=this.url,r=s.crossOrigin,n=t;this.options.checkCrossOrigin&&Ka(t)&&(r||(r="anonymous"),n=Ja(t)),this.crossOrigin=r,this.crossOriginUrl=n;var i=document.createElement("img");r&&(i.crossOrigin=r),i.src=n||t,i.alt=s.alt||"The image to crop",this.image=i,i.onload=this.start.bind(this),i.onerror=this.stop.bind(this),M(i,za),s.parentNode.insertBefore(i,s.nextSibling)}},{key:"start",value:function(){var s=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var r=L.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(L.navigator.userAgent),n=function(c,l){b(s.imageData,{naturalWidth:c,naturalHeight:l,aspectRatio:c/l}),s.initialImageData=b({},s.imageData),s.sizing=!1,s.sized=!0,s.build()};if(t.naturalWidth&&!r){n(t.naturalWidth,t.naturalHeight);return}var i=document.createElement("img"),o=document.body||document.documentElement;this.sizingImage=i,i.onload=function(){n(i.width,i.height),r||o.removeChild(i)},i.src=t.src,r||(i.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",o.appendChild(i))}},{key:"stop",value:function(){var s=this.image;s.onload=null,s.onerror=null,s.parentNode.removeChild(s),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var s=this.element,t=this.options,r=this.image,n=s.parentNode,i=document.createElement("div");i.innerHTML=zt;var o=i.querySelector(".".concat(F,"-container")),f=o.querySelector(".".concat(F,"-canvas")),c=o.querySelector(".".concat(F,"-drag-box")),l=o.querySelector(".".concat(F,"-crop-box")),p=l.querySelector(".".concat(F,"-face"));this.container=n,this.cropper=o,this.canvas=f,this.dragBox=c,this.cropBox=l,this.viewBox=o.querySelector(".".concat(F,"-view-box")),this.face=p,f.appendChild(r),M(s,N),n.insertBefore(o,s.nextSibling),B(r,za),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,M(l,N),t.guides||M(l.getElementsByClassName("".concat(F,"-dashed")),N),t.center||M(l.getElementsByClassName("".concat(F,"-center")),N),t.background&&M(o,"".concat(F,"-bg")),t.highlight||M(p,St),t.cropBoxMovable&&(M(p,ba),oa(p,ra,Na)),t.cropBoxResizable||(M(l.getElementsByClassName("".concat(F,"-line")),N),M(l.getElementsByClassName("".concat(F,"-point")),N)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),O(t.ready)&&S(s,ja,t.ready,{once:!0}),aa(s,ja)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var s=this.cropper.parentNode;s&&s.removeChild(this.cropper),B(this.element,N)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=us,e}},{key:"setDefaults",value:function(s){b(Qa,Z(s)&&s)}}]),e}();b(yt.prototype,os,ls,ps,cs,hs,fs);const ds={class:"mt-20"},gs=vt({__name:"cropper",setup(e){const a=La(null),s=La(null);Ft(async()=>{await bt(),t()});async function t(){s.value=new yt(a.value,{aspectRatio:16/9,crop(n){console.log(n.detail.x),console.log(n.detail.y),console.log(n.detail.width),console.log(n.detail.height),console.log(n.detail.rotate),console.log(n.detail.scaleX),console.log(n.detail.scaleY)}})}async function r(){const n=s.value.getCroppedCanvas(),i=new Image;i.src=n.toDataURL("image/png");const o=document.createElement("a");o.href=i.src,o.download="cropped.png",o.click()}return(n,i)=>(at(),tt("div",ds,[ha("img",{ref_key:"image",ref:a,src:xt},null,512),ha("button",{class:"btn mt-20",onClick:r},"下载")]))}}),ys=ha("h1",{id:"预览效果",tabindex:"-1"},[At("预览效果 "),ha("a",{class:"header-anchor",href:"#预览效果","aria-label":'Permalink to "预览效果"'},"​")],-1),ms=wt(`<h2 id="代码实现" tabindex="-1">代码实现 <a class="header-anchor" href="#代码实现" aria-label="Permalink to &quot;代码实现&quot;">​</a></h2><div class="language-vue line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">&lt;!-- eslint-disable no-console --&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">setup</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">lang</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cropperjs/dist/cropper.css</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> Cropper </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cropperjs</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">nextTick</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">onMounted</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ref</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> image </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ref</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">null</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> cropper </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ref</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Cropper</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">null</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">onMounted</span><span style="color:#A6ACCD;">(</span><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">nextTick</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">register</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">register</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">cropper</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Cropper</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">image</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    aspectRatio</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">16</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">9</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    crop</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">event</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">detail</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">x</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">detail</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">y</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">detail</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">width</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">detail</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">height</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">detail</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">rotate</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">detail</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">scaleX</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">detail</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">scaleY</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">download</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">canvas</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cropper</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getCroppedCanvas</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">img</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Image</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">img</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">src</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">canvas</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toDataURL</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">image/png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">link</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createElement</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">link</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">href</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">img</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">src</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">link</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">download</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cropped.png</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">link</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">click</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">mt-20</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">img</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">ref</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">image</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/logo.png</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">btn mt-20</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">@click</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">download</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">下载</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">style</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">lang</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">scss</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">scoped</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">style</span><span style="color:#89DDFF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div>`,2),Fs=JSON.parse('{"title":"预览效果","description":"","frontmatter":{},"headers":[],"relativePath":"src/fun/frontend/cropper.md","filePath":"src/fun/frontend/cropper.md","lastUpdated":1692932276000}'),Ds={name:"src/fun/frontend/cropper.md"},bs=Object.assign(Ds,{setup(e){return(a,s)=>(at(),tt("div",null,[ys,Ct(gs),ms]))}});export{Fs as __pageData,bs as default};

import{_ as s,h as n,i as a,R as l}from"./chunks/framework.7e07dabb.js";const b=JSON.parse('{"title":"常用命令","description":"","frontmatter":{},"headers":[],"relativePath":"src/develop/docker/command.md","filePath":"src/develop/docker/command.md","lastUpdated":1692932276000}'),p={name:"src/develop/docker/command.md"},e=l(`<h1 id="常用命令" tabindex="-1">常用命令 <a class="header-anchor" href="#常用命令" aria-label="Permalink to &quot;常用命令&quot;">​</a></h1><h2 id="启动命令" tabindex="-1">启动命令 <a class="header-anchor" href="#启动命令" aria-label="Permalink to &quot;启动命令&quot;">​</a></h2><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 启动docker</span></span>
<span class="line"><span style="color:#FFCB6B;">systemctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 停止docker</span></span>
<span class="line"><span style="color:#FFCB6B;">systemctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stop</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 重启docker</span></span>
<span class="line"><span style="color:#FFCB6B;">systemctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">restart</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 查看docker状态</span></span>
<span class="line"><span style="color:#FFCB6B;">systemctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">status</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 开机启动docker</span></span>
<span class="line"><span style="color:#FFCB6B;">systemctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">enable</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 查看docker概要信息</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">info</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 查看docker总体帮助文档</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--help</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 查看docker命令帮助文档</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">具体命令</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--help</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="镜像命令" tabindex="-1">镜像命令 <a class="header-anchor" href="#镜像命令" aria-label="Permalink to &quot;镜像命令&quot;">​</a></h2><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 列出所有镜像</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">images</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 搜索镜像</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">search</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">镜像名称</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--limit</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 拉取镜像到本地</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pull</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">镜像名称:[版本号]</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 查看镜像 容器 数据卷 所占用的空间</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">system</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">df</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 删除镜像 -f [强制删除] 删除多个</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rmi</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">镜像名字或者id</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">镜像名字或者id</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">镜像名字或者id</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="容器命名" tabindex="-1">容器命名 <a class="header-anchor" href="#容器命名" aria-label="Permalink to &quot;容器命名&quot;">​</a></h2><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 运行容器</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> [选项] 镜像名字或者id </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">命令</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">参数</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">镜像名字或者id</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 后台运行 守护进程</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-it</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--privileged=true</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/home:/home</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">镜像名字或者id</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 交互式运行 -it  --privileged=true 为容器开启root权限 -v /home:/home 将宿主机的/home目录挂载到容器的/home目录</span></span>
<span class="line"><span style="color:#FFCB6B;">选项：</span></span>
<span class="line"><span style="color:#FFCB6B;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">后台运行</span></span>
<span class="line"><span style="color:#FFCB6B;">-i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">交互式运行</span></span>
<span class="line"><span style="color:#FFCB6B;">-t</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">终端运行</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># -v 挂载数据卷 可以挂载多个 -v /home1:/home1 -v /home:/home</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># -v /home:/home:ro 容器只读</span></span>
<span class="line"><span style="color:#FFCB6B;">-v</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">数据卷名字:容器内路径</span></span>
<span class="line"><span style="color:#FFCB6B;">-e</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">环境变量</span></span>
<span class="line"><span style="color:#FFCB6B;">--volumes-from</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">挂载其他容器的数据卷</span></span>
<span class="line"><span style="color:#FFCB6B;">--name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">容器名称</span></span>
<span class="line"><span style="color:#A6ACCD;">--restart</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">always</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">自动重启</span></span>
<span class="line"><span style="color:#A6ACCD;">--privileged</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">true</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">以特权模式运行</span></span>
<span class="line"><span style="color:#A6ACCD;">--net</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">host</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">使用主机网络</span></span>
<span class="line"><span style="color:#A6ACCD;">--net</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">none</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">不使用网络</span></span>
<span class="line"><span style="color:#A6ACCD;">--net</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">container:容器名或id</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">使用其他容器的网络</span></span>
<span class="line"><span style="color:#A6ACCD;">--net</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">bridge</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">桥接网络</span></span>
<span class="line"><span style="color:#A6ACCD;">--net</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">macvlan</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">macvlan网络</span></span>
<span class="line"><span style="color:#A6ACCD;">--net</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">none</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">不使用网络</span></span>
<span class="line"><span style="color:#A6ACCD;">--net</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">overlay</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">overlay网络</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 列出正在运行的容器 -a 列出所有容器</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ps</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 退出</span></span>
<span class="line"><span style="color:#82AAFF;">exit</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 关闭容器 </span></span>
<span class="line"><span style="color:#FFCB6B;">ctrl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">p</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">q</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 退出容器 不关闭 </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 启动已经停止容器</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">容器id或者名字</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 重启容器</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">restart</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">容器id或者名字</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 停止容器</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stop</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">容器id或者名字</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 删除容器 -f [强制删除] 删除多个</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">容器id或者名字</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">容器id或者名字</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">容器id或者名字</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 查看容器日志</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">logs</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">容器id或者名字</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 查看容器进程</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">top</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">容器id或者名字</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 查看容器细节</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">inspect</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">容器id或者名字</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 进入容器</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">exec</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-it</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">容器id或者名字</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/bin/bash</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">attach</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">容器id或者名字</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 退出容器会关闭容器 基本上不用</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 容器拷贝文件到本地</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">容器id或者名字:容器内文件路径</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">本地文件路径</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 本地拷贝文件到容器</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">本地文件路径</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">容器id或者名字:容器内文件路径</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 查看容器端口映射</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">port</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">容器id或者名字</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 导出容器</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">容器id或者名字</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">容器.tar</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 导入容器</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">容器.tar</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">自定义组织名/镜像名:版本号</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><h2 id="commit-命令" tabindex="-1">commit 命令 <a class="header-anchor" href="#commit-命令" aria-label="Permalink to &quot;commit 命令&quot;">​</a></h2><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 提交容器 生成本地镜像</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">描述信息</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">作者</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">容器id或者名字</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">自定义组织名/自定义镜像名:版本号</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,9),o=[e];function c(r,t,C,y,i,D){return n(),a("div",null,o)}const m=s(p,[["render",c]]);export{b as __pageData,m as default};
